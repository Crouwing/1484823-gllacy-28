var form_button=document.querySelector(".feedback_map_button"),modal_communication=document.querySelector(".communication"),form_close=modal_communication.querySelector(".cross_big"),communication_form=modal_communication.querySelector(".communication_form"),login=modal_communication.querySelector(".communication_login"),email=modal_communication.querySelector(".communication_email"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(o){isStorageSupport=!1}form_button.addEventListener("click",function(o){o.preventDefault(),modal_communication.classList.add("modal_show"),storage?(login.value=storage,email.focus()):login.focus(),login.focus()}),form_close.addEventListener("click",function(o){o.preventDefault(),modal_communication.classList.remove("modal_show"),modal_communication.classList.remove("modal_error")}),communication_form.addEventListener("submit",function(o){login.value&&email.value?isStorageSupport&&localStorage.setItem("login",login.value):(o.preventDefault(),modal_communication.classList.remove("modal_error"),modal_communication.offsetWidth,modal_communication.classList.add("modal_error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&modal_communication.classList.contains("modal_show")&&(o.preventDefault(),modal_communication.classList.remove("modal_show"),modal_communication.classList.remove("modal_error"))});